(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{490:function(t,e,n){"use strict";n.r(e);var a=n(62),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"specification"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#specification"}},[t._v("#")]),t._v(" Specification")]),t._v(" "),n("p",[t._v("All Intergiro API endpoints are documented in the specification available "),n("a",{attrs:{href:"https://2d.intergiro.com/v1/docs",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),n("OutboundLink")],1),t._v(".")]),t._v(" "),n("h2",{attrs:{id:"structure"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#structure"}},[t._v("#")]),t._v(" Structure")]),t._v(" "),n("p",[t._v("Endpoints are "),n("strong",[t._v("organized in specific sections")]),t._v(" like account or transaction.")]),t._v(" "),n("p",[t._v("Each section contains "),n("strong",[t._v("list of related endpoints")]),t._v(" with short description.\nEvery single endpoint is thoroughly documented and you can see exactly what's the expected "),n("strong",[t._v("request body")]),t._v(", what are the "),n("strong",[t._v("path or query parameters")]),t._v(", or what are the "),n("strong",[t._v("possible responses")]),t._v(".")]),t._v(" "),n("p",[t._v("Some endpoints have additional annotations, like SCA requirement badge.")]),t._v(" "),n("h2",{attrs:{id:"rules"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#rules"}},[t._v("#")]),t._v(" Rules")]),t._v(" "),n("p",[t._v("Understanding rules related to validation of specific values, be it path parameters, query parameters or request payloads, is very important to efficiently use the specification.")]),t._v(" "),n("h3",{attrs:{id:"example"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[t._v("#")]),t._v(" Example")]),t._v(" "),n("p",[t._v("Let's use "),n("code",[t._v("send payments")]),t._v(" endpoint as an example. This endpoint expects required fields "),n("code",[t._v("account_id")]),t._v(" of type string and an "),n("code",[t._v("items")]),t._v(", an array containing at least one payment detail. A payment detail expects required fields "),n("code",[t._v("amount")]),t._v(" of type integer, "),n("code",[t._v("reference")]),t._v(" of type string and "),n("code",[t._v("counterparty")]),t._v(" object. The "),n("code",[t._v("amount")]),t._v(" field accepts only minor unit currency, ex "),n("code",[t._v("amount * 100")]),t._v(", Thus, it can't be a double. The "),n("code",[t._v("counterparty")]),t._v(" field is an object that expects required fields "),n("code",[t._v("type")]),t._v(" of type enum and "),n("code",[t._v("account_details")]),t._v(" of type object. The "),n("code",[t._v("type")]),t._v(" field is an enum that describes the shape of account_details object . Only "),n("code",[t._v("sepa")]),t._v(" type is currently supported. The "),n("code",[t._v("account_details")]),t._v(" field is an object that expects required fields "),n("code",[t._v("name")]),t._v(", "),n("code",[t._v("account_iban")]),t._v(" and "),n("code",[t._v("account_bic")]),t._v(" of type strings. Fields, "),n("code",[t._v("account_iban")]),t._v(" and "),n("code",[t._v("account_bic")]),t._v(" require to have the right iban and bic formats respectively.")]),t._v(" "),n("p",[t._v("This would be a correct usage:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("div",{staticClass:"highlight-lines"},[n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('POST /v1/bulk_payments\n\nContent-Type: application/json\nAuthorization: Bearer <access_token>\n\n{\n\t"account_id": "gHcYiRdtr",\n\t"items": [\n\t\t{\n\t\t\t"counterparty": {\n\t\t\t\t"name": "B0",\n\t\t\t\t"account": {\n\t\t\t\t\t"account_iban": "SE9297700000010008060245",\n\t\t\t\t\t"account_bic": "FTCSSESS"\n\t\t\t\t}\n\t\t\t},\n\t\t\t"amount": 0.1 * 100,\n\t\t\t"reference": "This is payment details info"\n\t\t}\n\t]\n}\n')])])]),n("p",[t._v("This would be an incorrect usage:")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("div",{staticClass:"highlight-lines"},[n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('POST /v1/bulk_payments\n\nContent-Type: application/json\nAuthorization: Bearer <access_token>\n\n{\n\t"account_id": "",\n\t"items": [\n\t\t{\n\t\t\t"counterparty": {\n\t\t\t\t"name": null,\n\t\t\t\t"account": {\n\t\t\t\t\t"account_iban": "123",\n\t\t\t\t\t"account_bic": "--3##$@@"\n\t\t\t\t}\n\t\t\t},\n\t\t\t"amount": 0.005 * 100,\n\t\t\t"reference": ""\n\t\t}\n\t]\n}\n\n')])])]),n("p",[t._v("What's wrong with this request payload?")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("account_id")]),t._v(" cannot be an empty string. Our "),n("code",[t._v("string")]),t._v(" type requires non-empty strings.")]),t._v(" "),n("li",[n("code",[t._v("items[0].counterparty.name")]),t._v(" cannot be specified as null. We distinguish between an optional parameter and a parameter that can be "),n("code",[t._v("null")]),t._v(". Optional parameters can be omitted entirely and not present in the request body at all.")]),t._v(" "),n("li",[n("code",[t._v("items[0].counterparty.account.account_iban")]),t._v(" and "),n("code",[t._v("items[0].counterparty.account.account_bic")]),t._v(" are incorrectly formatted.")]),t._v(" "),n("li",[n("code",[t._v("items[0].amount")]),t._v(" cannot be double. The amount portion should not contain more than 2 digits after the decimal point.")]),t._v(" "),n("li",[n("code",[t._v("items[0].reference")]),t._v(" cannot be an empty string.\nResponse to this invalid request will contain a list of errors that describe exactly what was wrong.")])]),t._v(" "),n("h2",{attrs:{id:"tips"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tips"}},[t._v("#")]),t._v(" Tips")]),t._v(" "),n("p",[t._v("Most of the time returned errors are very precise, but unfortunately in cases with very complex request payloads, the error might be more generic.\n"),n("strong",[t._v("Make sure that you always follow the specification and validation rules to avoid unexpected issues")]),t._v(".")]),t._v(" "),n("p",[t._v("In case you're not sure about usage of any of the endpoints from the specification, remember to "),n("strong",[t._v("check other sections on our "),n("a",{attrs:{href:"/2d"}},[t._v("developer portal")])]),t._v(".\nIf you face any issues when implementing our API, please contact our support team at "),n("code",[t._v("2d-api-support@intergiro.com")]),t._v(".")])])}),[],!1,null,null,null);e.default=r.exports}}]);